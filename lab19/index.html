<!DOCTYPE html>
<html>

<head>
    <title>Spain</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Dosis&display=swap" rel="stylesheet">
</head>

<body>
    <div class="header">
        <div class="header_inner">
            <h1>España</h1>
            <p>El pais mas bonito en todo el mundo. El sitio perfecto para vivir</p>
            <a href="#second">Saber mas sobre España</a>
        </div>
    </div>
    <div id="second">
        <h2>Sobre España</h2>
        <p>España está situada al Suroeste de Europa y ocupa casi toda la Península Ibérica. La superficie de España es de 504 248 kms2. Tiene una población de más de 40 millones de habitantes.España es un país marítimo. Sus costas están bañadas por el Mar Mediterráneo, por el Océano Atlántico y el Mar Cantábrico. <br>
            La capital de España es Madrid, que tiene más de 3 millones de habitantes. Es una ciudad muy hermosa, bastante moderna.Las ciudades más importantes son Barcelona, primer puerto no sólo de España, sino también del mar Mediterráneo.<br>En España hay un gran número de pueblos preciosos y cargados de encanto. En este artículo hemos querido hablar de los que nosotros consideramos los 100 pueblos más bonitos de España. Villas marineras, de montaña, medievales, blancos… los hay de todos los tipos y para todos los gustos. Te propongo un reto: Visitar todos al menos una vez en la vida. ¿Cuántos te faltan?</p>
    </div>
    <div class="slider_bg">
        <div class="slider">
            <div class="slider__wrapper">
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/1.jpg) 50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/2.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class=" slider__item">
                    <div style="height: 100vh; background: url(img/3.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/4.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/5.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/6.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/7.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/8.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/9.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/10.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/11.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/13.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/14.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/15.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/16.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/17.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/18.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/19.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/20.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/21.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/22.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/23.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/24.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/25.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/26.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/27.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/28.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/29.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
                <div class="slider__item">
                    <div style="height: 100vh; background: url(img/30.jpg)50%/cover no-repeat; border-radius: 20px"></div>
                </div>
            </div>
            <a class="slider__control slider__control_left" href="#" role="button"></a>
            <a class="slider__control slider__control_right slider__control_show" href="#" role="button"></a>
        </div>
    </div>


    <script>
        'use strict';
        var multiItemSlider = (function() {
            return function(selector, config) {
                var _mainElement = document.querySelector(selector), // основноой элемент блока
                    _sliderWrapper = _mainElement.querySelector('.slider__wrapper'), // обертка для .slider-item
                    _sliderItems = _mainElement.querySelectorAll('.slider__item'), // элементы (.slider-item)
                    _sliderControls = _mainElement.querySelectorAll('.slider__control'), // элементы управления
                    _sliderControlLeft = _mainElement.querySelector('.slider__control_left'), // кнопка "LEFT"
                    _sliderControlRight = _mainElement.querySelector('.slider__control_right'), // кнопка "RIGHT"
                    _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки
                    _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента    
                    _positionLeftItem = 0, // позиция левого активного элемента
                    _transform = 0, // значение транфсофрмации .slider_wrapper
                    _step = _itemWidth / _wrapperWidth * 100, // величина шага (для трансформации)
                    _items = []; // массив элементов
                // наполнение массива _items
                _sliderItems.forEach(function(item, index) {
                    _items.push({
                        item: item,
                        position: index,
                        transform: 0
                    });
                });
                var position = {
                    getMin: 0,
                    getMax: _items.length - 1,
                }
                var _transformItem = function(direction) {
                    if (direction === 'right') {
                        if ((_positionLeftItem + _wrapperWidth / _itemWidth - 1) >= position.getMax) {
                            return;
                        }
                        if (!_sliderControlLeft.classList.contains('slider__control_show')) {
                            _sliderControlLeft.classList.add('slider__control_show');
                        }
                        if (_sliderControlRight.classList.contains('slider__control_show') && (_positionLeftItem + _wrapperWidth / _itemWidth) >= position.getMax) {
                            _sliderControlRight.classList.remove('slider__control_show');
                        }
                        _positionLeftItem++;
                        _transform -= _step;
                    }
                    if (direction === 'left') {
                        if (_positionLeftItem <= position.getMin) {
                            return;
                        }
                        if (!_sliderControlRight.classList.contains('slider__control_show')) {
                            _sliderControlRight.classList.add('slider__control_show');
                        }
                        if (_sliderControlLeft.classList.contains('slider__control_show') && _positionLeftItem - 1 <= position.getMin) {
                            _sliderControlLeft.classList.remove('slider__control_show');
                        }
                        _positionLeftItem--;
                        _transform += _step;
                    }
                    _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';
                }
                // обработчик события click для кнопок "назад" и "вперед"
                var _controlClick = function(e) {
                    if (e.target.classList.contains('slider__control')) {
                        e.preventDefault();
                        var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';
                        _transformItem(direction);
                    }
                };
                var _setUpListeners = function() {
                    // добавление к кнопкам "назад" и "вперед" обрботчика _controlClick для событя click
                    _sliderControls.forEach(function(item) {
                        item.addEventListener('click', _controlClick);
                    });
                }
                // инициализация
                _setUpListeners();
                return {
                    right: function() { // метод right
                        _transformItem('right');
                    },
                    left: function() { // метод left
                        _transformItem('left');
                    }
                }
            }
        }());
        var slider = multiItemSlider('.slider')

    </script>

</body>

</html>
